{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/nicolsaha/Sites/soap-builder/src/screens/CheckoutScreen.js\";\nimport React from 'react';\nimport { Link } from \"react-router-dom\";\nimport RenderProducts from './components/checkout/RenderProducts';\nimport RenderCart from './components/checkout/RenderCart';\n\nconst CheckoutScreen = ({\n  cart,\n  setCart,\n  page,\n  setPage\n}) => {\n  const PAGE_PRODUCTS = 'products';\n  const PAGE_CART = 'cart'; //DEEP COPY\n\n  function jsonCopy(src) {\n    return JSON.parse(JSON.stringify(src));\n  }\n\n  function removeFromCart(productToRemove) {\n    setCart(cart.filter(product => product !== productToRemove));\n  }\n\n  function incrementAmount(index) {\n    const newItems = jsonCopy([...cart]);\n    newItems[index].amount++;\n    setCart(newItems);\n  }\n\n  function decrementAmount(index) {\n    const newItems = jsonCopy([...cart]);\n    newItems[index].amount--;\n    setCart(newItems);\n  }\n\n  function navigateTo(nextPage) {\n    setPage(nextPage);\n  }\n\n  let qtyInCart = cart.reduce(function (prev, current) {\n    return prev + +current.amount;\n  }, 0);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => navigateTo(PAGE_CART),\n        children: [\"Go to Cart (\", qtyInCart, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      children: [page === PAGE_PRODUCTS ? /*#__PURE__*/_jsxDEV(RenderProducts, {\n        products: products,\n        addToCart: addToCart\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 43\n      }, this) : null, page === PAGE_CART ? /*#__PURE__*/_jsxDEV(RenderCart, {\n        products: products,\n        cart: cart,\n        removeFromCart: removeFromCart,\n        incrementAmount: incrementAmount,\n        decrementAmount: decrementAmount,\n        navigateTo: navigateTo,\n        PAGE_PRODUCTS: PAGE_PRODUCTS\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 39\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 9\n  }, this);\n};\n\n_c = CheckoutScreen;\nexport default CheckoutScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"CheckoutScreen\");","map":{"version":3,"sources":["/Users/nicolsaha/Sites/soap-builder/src/screens/CheckoutScreen.js"],"names":["React","Link","RenderProducts","RenderCart","CheckoutScreen","cart","setCart","page","setPage","PAGE_PRODUCTS","PAGE_CART","jsonCopy","src","JSON","parse","stringify","removeFromCart","productToRemove","filter","product","incrementAmount","index","newItems","amount","decrementAmount","navigateTo","nextPage","qtyInCart","reduce","prev","current","products","addToCart"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,IAAR,QAAmB,kBAAnB;AACA,OAAOC,cAAP,MAA2B,sCAA3B;AACA,OAAOC,UAAP,MAAuB,kCAAvB;;AAGA,MAAMC,cAAc,GAAG,CAAC;AAAEC,EAAAA,IAAF;AAAQC,EAAAA,OAAR;AAAiBC,EAAAA,IAAjB;AAAuBC,EAAAA;AAAvB,CAAD,KAAsC;AAEzD,QAAMC,aAAa,GAAG,UAAtB;AACA,QAAMC,SAAS,GAAG,MAAlB,CAHyD,CAKzD;;AACA,WAASC,QAAT,CAAkBC,GAAlB,EAAuB;AACnB,WAAOC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAeH,GAAf,CAAX,CAAP;AACH;;AAED,WAASI,cAAT,CAAwBC,eAAxB,EAAyC;AACrCX,IAAAA,OAAO,CACHD,IAAI,CAACa,MAAL,CAAaC,OAAD,IAAaA,OAAO,KAAKF,eAArC,CADG,CAAP;AAGH;;AAED,WAASG,eAAT,CAAyBC,KAAzB,EAAgC;AAC5B,UAAMC,QAAQ,GAAGX,QAAQ,CAAC,CAAC,GAAGN,IAAJ,CAAD,CAAzB;AAEAiB,IAAAA,QAAQ,CAACD,KAAD,CAAR,CAAgBE,MAAhB;AAEAjB,IAAAA,OAAO,CAACgB,QAAD,CAAP;AACH;;AAED,WAASE,eAAT,CAAyBH,KAAzB,EAAgC;AAC5B,UAAMC,QAAQ,GAAGX,QAAQ,CAAC,CAAC,GAAGN,IAAJ,CAAD,CAAzB;AAEAiB,IAAAA,QAAQ,CAACD,KAAD,CAAR,CAAgBE,MAAhB;AAEAjB,IAAAA,OAAO,CAACgB,QAAD,CAAP;AACH;;AAED,WAASG,UAAT,CAAoBC,QAApB,EAA8B;AAC1BlB,IAAAA,OAAO,CAACkB,QAAD,CAAP;AACH;;AAED,MAAIC,SAAS,GAAGtB,IAAI,CAACuB,MAAL,CAAY,UAASC,IAAT,EAAeC,OAAf,EAAwB;AAChD,WAAOD,IAAI,GAAG,CAACC,OAAO,CAACP,MAAvB;AACH,GAFe,EAEb,CAFa,CAAhB;AAKA,sBACI;AAAA,4BACI;AAAA,6BACI;AAAQ,QAAA,OAAO,EAAG,MAAME,UAAU,CAACf,SAAD,CAAlC;AAAA,mCAA6DiB,SAA7D;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YADJ,eAII;AAAA,iBACKpB,IAAI,KAAKE,aAAT,gBAAyB,QAAC,cAAD;AAAgB,QAAA,QAAQ,EAAEsB,QAA1B;AAAoC,QAAA,SAAS,EAAEC;AAA/C;AAAA;AAAA;AAAA;AAAA,cAAzB,GAAuF,IAD5F,EAEKzB,IAAI,KAAKG,SAAT,gBAAqB,QAAC,UAAD;AAAY,QAAA,QAAQ,EAAEqB,QAAtB;AAAgC,QAAA,IAAI,EAAE1B,IAAtC;AAA4C,QAAA,cAAc,EAAEW,cAA5D;AAA4E,QAAA,eAAe,EAAEI,eAA7F;AAA8G,QAAA,eAAe,EAAEI,eAA/H;AAAgJ,QAAA,UAAU,EAAEC,UAA5J;AAAwK,QAAA,aAAa,EAAEhB;AAAvL;AAAA;AAAA;AAAA;AAAA,cAArB,GAA+N,IAFpO;AAAA;AAAA;AAAA;AAAA;AAAA,YAJJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAWH,CApDD;;KAAML,c;AAsDN,eAAeA,cAAf","sourcesContent":["import React from 'react';\nimport {Link} from \"react-router-dom\";\nimport RenderProducts from './components/checkout/RenderProducts';\nimport RenderCart from './components/checkout/RenderCart';\n\n\nconst CheckoutScreen = ({ cart, setCart, page, setPage} ) => {\n\n    const PAGE_PRODUCTS = 'products';\n    const PAGE_CART = 'cart';\n\n    //DEEP COPY\n    function jsonCopy(src) {\n        return JSON.parse(JSON.stringify(src));\n    }\n\n    function removeFromCart(productToRemove) {\n        setCart(\n            cart.filter((product) => product !== productToRemove)\n        )\n    }\n\n    function incrementAmount(index) {\n        const newItems = jsonCopy([...cart]);\n\n        newItems[index].amount++;\n\n        setCart(newItems);\n    }\n\n    function decrementAmount(index) {\n        const newItems = jsonCopy([...cart]);\n\n        newItems[index].amount--;\n\n        setCart(newItems);\n    }\n\n    function navigateTo(nextPage) {\n        setPage(nextPage)\n    }\n\n    let qtyInCart = cart.reduce(function(prev, current) {\n        return prev + +current.amount\n    }, 0);\n\n\n    return (\n        <div>\n            <header>\n                <button onClick={ () => navigateTo(PAGE_CART) }>Go to Cart ({qtyInCart})</button>\n            </header>\n            <main>\n                {page === PAGE_PRODUCTS ? <RenderProducts products={products} addToCart={addToCart}/> : null}\n                {page === PAGE_CART ? <RenderCart products={products} cart={cart} removeFromCart={removeFromCart} incrementAmount={incrementAmount} decrementAmount={decrementAmount} navigateTo={navigateTo} PAGE_PRODUCTS={PAGE_PRODUCTS}/> : null}\n            </main>\n        </div>\n    );\n};\n\nexport default CheckoutScreen;\n"]},"metadata":{},"sourceType":"module"}